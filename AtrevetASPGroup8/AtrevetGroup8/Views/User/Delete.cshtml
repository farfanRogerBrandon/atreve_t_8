@model AtrevetGroup8.Models.User

@{
    ViewData["Title"] = "Delete";
}

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link href="~/css/alerts/alertdelete.css" rel="stylesheet" />
<link href="~/css/editdeletecss/deletecss.css" rel="stylesheet" />

<div class="detail-Car">
    <div class="container-fluid">
        <div class="card">
            <h5 class="card-header">Eliminación de Usuario</h5>
            <div class="card-body">
                <h5 class="card-title">¿Estás seguro de que quieres eliminar el usuario?</h5>

                <dl class="row">

                    <dt class="col-sm-2">
                        Nombres
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.names)
                    </dd>
                    <dt class="col-sm-2">
                        Apellidos
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.lastnames)
                    </dd>
                    <dt class="col-sm-2">
                        Ci
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.ci)
                    </dd>
                    <dt class="col-sm-2">
                        Correo Electronico
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.mail)
                    </dd>
                    <dt class="col-sm-2">
                        Celular
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.cellphone)
                    </dd>
                    <dt class="col-sm-2">
                        Rol
                    </dt>
                    <dd class="col-sm-10">
                        Ofertante
                    </dd>

                    <form id="deleteForm" asp-action="Delete">
                        <input type="hidden" asp-for="Id" />
                        <div class="actions">
                            <div class="mx-3">
                                <a asp-action="Index" class="btn btn-secondary rounded-circle">
                                    <i class="fas fa-arrow-left fa-1x"></i>
                                </a>
                            </div> |
                            <div class="mx-3">
                                <button type="button" id="deleteButton" class="btn btn-danger">Eliminar</button>
                            </div>
                        </div>
                    </form>
                </dl>
            </div>
        </div>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const deleteForm = document.getElementById('deleteForm');
        const deleteButton = document.getElementById('deleteButton');
        deleteButton.addEventListener('click', function () {
            Swal.fire({
                title: "¿Estás seguro?",
                text: "¡No podrás revertir esto!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "rgb(28 145 23)",
                cancelButtonColor: "rgb(193 13 13)",
                confirmButtonText: "Eliminarlo",
                cancelButtonText: "Cancelar",
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    deleteForm.submit();
                }
            });
        });
    });
</script>

